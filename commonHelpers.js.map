{"version":3,"file":"commonHelpers.js","sources":["../src/js/filter.js","../src/js/api-recipies.js","../src/js/refs.js","../src/js/render-functions.js","../src/js/form.js","../src/js/localstorage.js","../src/js/handlers.js","../src/js/modal.js","../src/js/theme.js","../src/main.js"],"sourcesContent":["export function filterRecipesList(condition, recipes) {\n  const filtered = [];\n  recipes.forEach(recipe => {\n    if (condition.includes(recipe.difficulty)) {\n      filtered.push(recipe);\n    }\n  });\n  return filtered;\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://dummyjson.com/recipes';\n\nexport async function getAllRecipies() {\n  const { data } = await axios('');\n  return data;\n}\n\nexport async function getRecepieByID(id) {\n  const { data } = await axios(`/${id}`);\n  return data;\n}\n\nexport async function getRecepieByQuery(query) {\n  const { data } = await axios('/search', { params: { q: query } });\n  return data;\n}\n","export const refs = {\n  recipesList: document.querySelector('.recipes'),\n  bodyEl: document.querySelector('body'),\n  switchEl: document.querySelector('#switch-theme'),\n  form: document.querySelector('.form'),\n  backdrop: document.querySelector('.backdrop'),\n  modal: document.querySelector('.modal'),\n  parcing: document.querySelector('.parcing'),\n  recipes: '',\n  applyFilter: document.querySelector('.filter'),\n  theme: document.querySelector('.theme'),\n};\n","import { refs } from './refs';\n\nexport function renderRecipesList(recipes) {\n  refs.recipesList.innerHTML = '';\n  const markup = recipes\n    .map(\n      ({ id, image, name, difficulty, cuisine }) =>\n        `<li class=\"recipe-item\" data-id='${id}'>\n    <img\n        class=\"recipe-image\"\n        src=${image}\n        alt=${name}\n    />\n    <div class=\"recipe-dscr\">\n        <p class=\"recipe-name\">Name: ${name}</p>\n        <p class=\"recipe-cuisine\">Cuisine: ${cuisine}</p>\n        <p class=\"recipe-difficulty\">Difficulty: ${difficulty}</p>\n    </div>`\n    )\n    .join('');\n  refs.recipesList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderRecipeByID({\n  name,\n  difficulty,\n  cuisine,\n  caloriesPerServing,\n  image,\n  ingredients,\n  instructions,\n  prepTimeMinutes,\n  cookTimeMinutes,\n}) {\n  const markup = `<h2 class=\"food-name\"><b>Name:</b> ${name}</h2>\n          <div class=\"common-container\">\n            <div class=\"descr-container\">\n              <p class=\"food-cuisine\"><b>Cuisine:</b> ${cuisine}</p>\n              <p class=\"difficulty\"><b>Difficulty:</b> ${difficulty}</p>\n              <p class=\"ingredients\"><b>Inredients:</b> ${ingredients}</p>\n              <p class=\"instructions\"><b>Instructions:</b> ${instructions}</p>\n              <p class=\"prep-time\"><b>Preparation time:</b> ${prepTimeMinutes} minutes</p>\n              <p class=\"cook-time\"><b>Cook time:</b> ${cookTimeMinutes} minutes</p>\n              <p class=\"calories\"><b>Calories:</b> ${caloriesPerServing}</p>\n            </div>\n            <img class=\"large-image\" src=\"${image}\" alt=\"Food image\" />\n          </div>`;\n  refs.parcing.insertAdjacentHTML('beforeend', markup);\n}\n","import { getRecepieByQuery } from './api-recipies';\nimport { renderRecipesList } from './render-functions';\nimport { refs } from './refs';\n\nexport async function findFood(e) {\n  e.preventDefault();\n  const query = e.target.elements.query.value.trim();\n  const { recipes } = await getRecepieByQuery(query);\n  refs.recipes = recipes;\n  if (recipes.length) {\n    renderRecipesList(recipes);\n  } else {\n    refs.recipesList.innerHTML =\n      '<h2 class=\"empty-result\">No matches found</h2>';\n  }\n}\n","export function saveToLS(key,value){\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\nexport function loadFromLS(key){\n    const json =localStorage.getItem(key);\n    try{\n        const data = JSON.parse (json);\n        return data;\n    }\n    catch{\n        return json;\n    }\n}","import { getAllRecipies } from './api-recipies';\nimport { filterRecipesList } from './filter';\nimport { saveToLS } from './localstorage';\nimport { refs } from './refs';\nimport { renderRecipesList } from './render-functions';\n\nexport function onClickChangeTheme(e) {\n  refs.bodyEl.classList.toggle('dark-theme');\n  refs.modal.classList.toggle('dark-theme');\n  const sunBox = document.querySelector('.sun-container');\n  const moonBox = document.querySelector('.moon-container');\n  if (refs.bodyEl.classList.contains('dark-theme')) {\n    saveToLS('theme', 'dark');\n    sunBox.classList.add('visually-hidden');\n    moonBox.classList.remove('visually-hidden');\n  } else {\n    saveToLS('theme', 'white');\n    moonBox.classList.add('visually-hidden');\n    sunBox.classList.remove('visually-hidden');\n  }\n}\n\nexport async function onDomContentLoaded(e) {\n  const { recipes } = await getAllRecipies();\n  refs.recipes = recipes;\n  renderRecipesList(recipes);\n}\n\nexport function onFilterActivate(e) {\n  e.preventDefault();\n  const elements = e.target.form;\n  const condition = [];\n  for (const element of elements) {\n    if (element.checked) {\n      condition.push(element.value);\n    }\n  }\n  if (!condition.length) return renderRecipesList(refs.recipes);\n  const filtered = filterRecipesList(condition, refs.recipes);\n  if (filtered.length) {\n    renderRecipesList(filtered);\n  } else {\n    refs.recipesList.innerHTML =\n      '<h2 class=\"empty-result\">No matches found</h2>';\n  }\n}\n","import { getRecepieByID } from './api-recipies';\nimport { refs } from './refs';\nimport { renderRecipeByID } from './render-functions';\n\nexport async function onRecipeClick(e) {\n  if (!e.target.closest('li')) return;\n  refs.parcing.innerHTML = '';\n  const id = e.target.closest('li').dataset.id;\n  const res = await getRecepieByID(id);\n  refs.backdrop.classList.remove('hidden');\n  renderRecipeByID(res);\n  refs.backdrop.addEventListener('click', e => {\n    if (\n      e.target.classList.contains('backdrop') ||\n      e.target.classList.contains('close-button' || e.key === 'Escape')\n    ) {\n      refs.backdrop.classList.add('hidden');\n      refs.backdrop.removeEventListener;\n    }\n  });\n  document.addEventListener('keyup', e => {\n    if (e.key === 'Escape') {\n      refs.backdrop.classList.add('hidden');\n      refs.backdrop.removeEventListener;\n    }\n  });\n}\n","import { loadFromLS, saveToLS } from './localstorage.js';\nimport { refs } from './refs';\n\nexport function onLoadedDomTheme() {\n  const key = 'theme';\n  const checkTheme = loadFromLS(key) ?? 'light';\n  saveToLS(key, checkTheme);\n  refs.theme.innerHTML = `\n    <div class=\"moon-container\">\n      <svg class=\"moon\" height=\"30\" width=\"30\">\n        <use href=\"./src/img/icons.svg#moon\"></use>\n      </svg>\n    </div>\n    <div class=\"sun-container\">\n      <svg class=\"sun\" height=\"30\" width=\"30\">\n        <use href=\"./src/img/icons.svg#sun\"></use>\n      </svg>\n    </div>`;\n  const sunBox = document.querySelector('.sun-container');\n  const moonBox = document.querySelector('.moon-container');\n  if (checkTheme === 'dark') {\n    refs.bodyEl.classList.add('dark-theme');\n    refs.modal.classList.add('dark-theme');\n    sunBox.classList.add('visually-hidden');\n  } else {\n    moonBox.classList.add('visually-hidden');\n  }\n}\n","import { filterRecipesList } from './js/filter';\nimport { findFood } from './js/form';\nimport {\n  onClickChangeTheme,\n  onDomContentLoaded,\n  onFilterActivate,\n} from './js/handlers';\nimport { onRecipeClick } from './js/modal';\nimport { refs } from './js/refs';\nimport { onLoadedDomTheme } from './js/theme';\n\ndocument.addEventListener('DOMContentLoaded', onLoadedDomTheme);\ndocument.addEventListener('DOMContentLoaded', onDomContentLoaded);\ndocument.addEventListener('click', onRecipeClick);\nrefs.form.addEventListener('submit', findFood);\nrefs.switchEl.addEventListener('click', onClickChangeTheme);\nrefs.applyFilter.addEventListener('change', onFilterActivate);\n"],"names":["filterRecipesList","condition","recipes","filtered","recipe","axios","getAllRecipies","data","getRecepieByID","id","getRecepieByQuery","query","refs","renderRecipesList","markup","image","name","difficulty","cuisine","renderRecipeByID","caloriesPerServing","ingredients","instructions","prepTimeMinutes","cookTimeMinutes","findFood","e","saveToLS","key","value","jsonData","loadFromLS","json","onClickChangeTheme","sunBox","moonBox","onDomContentLoaded","onFilterActivate","elements","element","onRecipeClick","res","onLoadedDomTheme","checkTheme"],"mappings":"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"}