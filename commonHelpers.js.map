{"version":3,"file":"commonHelpers.js","sources":["../src/js/api-recipies.js","../src/js/localstorage.js","../src/js/refs.js","../src/js/render-functions.js","../src/js/handlers.js","../src/js/modal.js","../src/js/theme.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://dummyjson.com/recipes';\n\nexport async function getAllRecipies() {\n  const { data } = await axios('');\n  return data;\n}\n\nexport async function getRecepieByID(id) {\n  const { data } = await axios(`/${id}`);\n  return data;\n}\n","export function saveToLS(key,value){\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\nexport function loadFromLS(key){\n    const json =localStorage.getItem(key);\n    try{\n        const data = JSON.parse (json);\n        return data;\n    }\n    catch{\n        return json;\n    }\n}","export const refs = {\n  recipesList: document.querySelector('.recipes'),\n  bodyEl: document.querySelector('body'),\n  switchEl: document.querySelector('#switch-theme'),\n  backdrop: document.querySelector('.backdrop'),\n  modal: document.querySelector('.modal'),\n  parcing: document.querySelector('.parcing'),\n};\n","import { refs } from './refs';\n\nexport function renderRecipesList(recipes) {\n  const markup = recipes\n    .map(\n      ({ id, image, name, difficulty, cuisine }) =>\n        `<li class=\"recipe-item\" data-id='${id}'>\n    <img\n        class=\"recipe-image\"\n        src=${image}\n        alt=${name}\n    />\n    <div class=\"recipe-dscr\">\n        <p class=\"recipe-name\">Name: ${name}</p>\n        <p class=\"recipe-cuisine\">Cuisine: ${cuisine}</p>\n        <p class=\"recipe-difficulty\">Difficulty: ${difficulty}</p>\n    </div>`\n    )\n    .join('');\n  refs.recipesList.insertAdjacentHTML('beforeend', markup);\n}\n\nexport function renderRecipeByID({\n  name,\n  difficulty,\n  cuisine,\n  caloriesPerServing,\n  image,\n  ingredients,\n  instructions,\n  prepTimeMinutes,\n  cookTimeMinutes,\n}) {\n  const markup = `<h2 class=\"food-name\"><b>Name:</b> ${name}</h2>\n          <div class=\"common-container\">\n            <div class=\"descr-container\">\n              <p class=\"food-cuisine\"><b>Cuisine:</b> ${cuisine}</p>\n              <p class=\"difficulty\"><b>Difficulty:</b> ${difficulty}</p>\n              <p class=\"ingredients\"><b>Inredients:</b> ${ingredients}</p>\n              <p class=\"instructions\"><b>Instructions:</b> ${instructions}</p>\n              <p class=\"prep-time\"><b>Preparation time:</b> ${prepTimeMinutes} minutes</p>\n              <p class=\"cook-time\"><b>Cook time:</b> ${cookTimeMinutes} minutes</p>\n              <p class=\"calories\"><b>Calories:</b> ${caloriesPerServing}</p>\n            </div>\n            <img class=\"large-image\" src=\"${image}\" alt=\"Food image\" />\n          </div>`;\n  refs.parcing.insertAdjacentHTML('beforeend', markup);\n}\n","import { getAllRecipies } from './api-recipies';\nimport { saveToLS } from './localstorage';\nimport { refs } from './refs';\nimport { renderRecipesList } from './render-functions';\n\nexport function onClickChangeTheme(e) {\n  refs.bodyEl.classList.toggle('dark-theme');\n  const themeColor = 'dark';\n  const key = 'theme';\n  if (refs.bodyEl.classList.contains('dark-theme')) {\n    saveToLS(key, themeColor);\n  }\n}\n\nexport async function onDomContentLoaded(e) {\n  const { recipes } = await getAllRecipies();\n  renderRecipesList(recipes);\n}\n","import { getRecepieByID } from './api-recipies';\nimport { refs } from './refs';\nimport { renderRecipeByID } from './render-functions';\n\nexport async function onRecipeClick(e) {\n  if (!e.target.closest('li')) return;\n  refs.parcing.innerHTML = '';\n  const id = e.target.closest('li').dataset.id;\n  const res = await getRecepieByID(id);\n  refs.backdrop.classList.remove('hidden');\n  renderRecipeByID(res);\n  refs.backdrop.addEventListener('click', e => {\n    if (\n      e.target.classList.contains('backdrop') ||\n      e.target.classList.contains('close-button' || e.key === 'Escape')\n    ) {\n      refs.backdrop.classList.add('hidden');\n      refs.backdrop.removeEventListener;\n    }\n  });\n  document.addEventListener('keyup', e => {\n    if (e.key === 'Escape') {\n      refs.backdrop.classList.add('hidden');\n      refs.backdrop.removeEventListener;\n    }\n  });\n}\n","import { loadFromLS } from './localstorage';\nimport { refs } from './refs';\n\nexport function onLoadedDomTheme() {\n  const checkTheme = loadFromLS('theme');\n  if (checkTheme === 'dark') {\n    refs.bodyEl.classList.toggle('dark-theme');\n  }\n}\n","import { onClickChangeTheme, onDomContentLoaded } from './js/handlers';\nimport { onRecipeClick } from './js/modal';\nimport { refs } from './js/refs';\nimport { onLoadedDomTheme } from './js/theme';\n\ndocument.addEventListener('DOMContentLoaded', onLoadedDomTheme);\ndocument.addEventListener('DOMContentLoaded', onDomContentLoaded);\ndocument.addEventListener('click', onRecipeClick);\n\nrefs.switchEl.addEventListener('click', onClickChangeTheme);\n"],"names":["axios","getAllRecipies","data","getRecepieByID","id","saveToLS","key","value","jsonData","loadFromLS","json","refs","renderRecipesList","recipes","markup","image","name","difficulty","cuisine","renderRecipeByID","caloriesPerServing","ingredients","instructions","prepTimeMinutes","cookTimeMinutes","onClickChangeTheme","e","themeColor","onDomContentLoaded","onRecipeClick","res","onLoadedDomTheme"],"mappings":"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"}